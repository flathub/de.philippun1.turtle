{
  "app-id": "de.philippun1.turtle",
  "runtime": "org.gnome.Platform",
  "runtime-version": "44",
  "sdk": "org.gnome.Sdk",
  "command": "turtle_cli",
  "finish-args": [
    "--share=ipc",
    "--share=network",
    "--socket=fallback-x11",
    "--socket=wayland",
    "--filesystem=host",
    "--device=dri"
  ],
  "cleanup": [
    "/bin/git2",
    "/include",
    "/lib/pkgconfig",
    "/include",
    "/lib/pkgconfig",
    "/share/pkgconfig",
    "/share/aclocal",
    "/share/applications/mimeinfo.cache",
    "/share/applications/org.gnome.Meld.desktop",
    "/share/icons/hicolor/symbolic/apps/org.gnome.Meld-symbolic.svg",
    "/share/icons/hicolor/scalable/apps/org.gnome.Meld.svg",
    "/man",
    "/share/man",
    "/share/gtk-doc",
    "/share/vala",
    "*.la",
    "*.a"
  ],
  "modules": [
    {
      "name": "gtksourceview",
      "config-opts": [
        "--enable-vala=no",
        "--enable-gtk-doc=no"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/gtksourceview/3.24/gtksourceview-3.24.11.tar.xz",
          "sha256": "691b074a37b2a307f7f48edc5b8c7afa7301709be56378ccf9cc9735909077fd"
        }
      ]
    },
    {
      "name": "meld",
      "buildsystem": "meson",
      "sources": [
        {
          "type": "archive",
          "url": "https://download.gnome.org/sources/meld/3.22/meld-3.22.0.tar.xz",
          "sha256": "3fc107c98ef6e75358ffd2b0d14c85ddb48fe14a11e939a94322faaa8e90c40d"
        },
        {
          "type": "patch",
          "path": "meld-appid.patch"
        }
      ],
      "modules": [
        "shared-modules/intltool/intltool-0.51.json"
      ]
    },
    {
      "name": "pygit2",
      "buildsystem": "simple",
      "build-commands": [
        "pip3 install --verbose --exists-action=i --no-index --find-links=\"file://${PWD}\" --prefix=${FLATPAK_DEST} \"pygit2\" --no-build-isolation"
      ],
      "sources": [
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/68/ce/95b0bae7968c65473e1298efb042e10cafc7bafc14d9e4f154008241c91d/cffi-1.16.0.tar.gz",
          "sha256": "bcb3ef43e58665bbda2fb198698fcae6776483e0c4a631aa5647806c25e02cc0"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/13/a3/a812df4e2dd5696d1f351d58b8fe16a405b234ad2886a0dab9183fb78109/pycparser-2.22-py3-none-any.whl",
          "sha256": "c3702b6d3dd8c7abc1afa565d7e63d53a1d0bd86cdc24edd75470f4de499cfcc"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/15/2f/9e898a7e81a6ed8275c586ffb23763b0afcc668d78d814aea372ac760f64/pygit2-1.14.1-cp310-cp310-manylinux_2_17_x86_64.manylinux2014_x86_64.whl",
          "sha256": "f35152b96a31ab705cdd63aef08fb199d6c1e87fc6fd45b1945f8cd040a43b7b"
        },
        {
          "type": "file",
          "url": "https://files.pythonhosted.org/packages/fe/94/6a95ebbcc29fbf37e4af2d797e1009507460125d93d8038b81cd2c636bd7/pygit2-1.14.1-cp310-cp310-manylinux_2_17_aarch64.manylinux2014_aarch64.whl",
          "sha256": "141a1b37fc431d98b3de2f4651eab8b1b1b038cd50de42bfd1c8de057ec2284e"
        }
      ]
    },
    {
      "name": "turtle",
      "buildsystem": "simple",
      "build-commands": [
        "install -D turtle_cli /app/bin/turtle_cli",
        "install -D data/de.philippun1.turtle.desktop /app/share/applications/de.philippun1.turtle.desktop",
        "install -D data/de.philippun1.turtle.gschema.xml /app/share/glib-2.0/schemas/de.philippun1.turtle.gschema.xml",
        "glib-compile-schemas /app/share/glib-2.0/schemas",
        "install -D data/de.philippun1.turtle.metainfo.xml /app/share/metainfo/de.philippun1.turtle.metainfo.xml",
        "install -D setup.py /app/setup.py",
        "install -D package_information.py /app/package_information.py",
        "install -D data/icons/hicolor/scalable/apps/de.philippun1.turtle.svg /app/share/icons/hicolor/scalable/apps/de.philippun1.turtle.svg",
        "install -D data/icons/hicolor/symbolic/apps/de.philippun1.turtle-symbolic.svg /app/share/icons/hicolor/symbolic/apps/de.philippun1.turtle-symbolic.svg",
        "pip3 install --no-deps --prefix=/app ."
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://gitlab.gnome.org/philippun1/turtle/-/archive/0.8/turtle-0.8.tar.gz",
          "sha256": "3c90de1e8e8711472c4474cf6169f24c8ff403221715197b360e2bed65e19160"
        }
      ]
    }
  ]
}
